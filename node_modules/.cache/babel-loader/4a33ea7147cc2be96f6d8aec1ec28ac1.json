{"ast":null,"code":"var _jsxFileName = \"/home/roberto/\\xC1rea de Trabalho/tingle-bar/src/pages/CadastroEstabelecimento/index.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { useForm } from \"react-hook-form\";\nimport './styles.css';\nimport api from '../../services/api';\n\nfunction valoresIniciais() {\n  return {\n    nome: '',\n    cnpj: '',\n    endereco: '',\n    numero: '',\n    latitude: '',\n    longitude: '',\n    tipoEstabelecimento: '',\n    senha: '',\n    repeticaoSenha: ''\n  };\n}\n\nexport default function CadastroEstabelecimento() {\n  const [valores, setValores] = useState(valoresIniciais);\n  const [tiposEstabelecimento, setTiposEstabelecimento] = useState([]);\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm();\n\n  const onSubmit = data => {\n    console.log(data);\n  };\n\n  function validarSenhas() {\n    if (valores.senha === valores.repeticaoSenha) return true;\n    return false;\n  }\n\n  function handleChange(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    setValores({ ...valores,\n      [name]: value\n    });\n  }\n\n  async function handleCadastrar() {\n    const payload = {\n      \"Nome\": valores.nome,\n      \"Cnpj\": valores.cnpj,\n      \"Endereco\": valores.endereco,\n      \"Numero\": valores.numero,\n      \"Latitude\": valores.latitude,\n      \"Longitude\": valores.longitude,\n      \"IdTipoEstabelecimento\": valores.tipoEstabelecimento,\n      \"Imagem\": \"/uploads/default.png\",\n      \"Distancia_km\": \"0\",\n      \"Senha\": valores.senha\n    };\n\n    try {\n      const resposta = await api.post('/estabelecimento', payload);\n      console.log({\n        resposta\n      });\n    } catch (err) {\n      console.log({\n        err\n      });\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hold-transition register-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"register-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"register-logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"../../index2.html\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 49\n    }\n  }, \"Tingle\"), \"Bar\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body register-card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"login-box-msg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 25\n    }\n  }, \"Cadastrar novo estabelecimento\"), /*#__PURE__*/React.createElement(\"form\", {\n    autoComplete: \"off\",\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3 col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    name: \"nome\",\n    placeholder: \"Nome do estabelecimento\",\n    className: \"form-control\",\n    type: \"text\",\n    onChange: handleChange,\n    ref: register({\n      required: {\n        value: \"Required\",\n        message: \"O nome do estabelecimento é obrigatório\"\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-validation-error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 37\n    }\n  }, errors.nome && errors.nome.message))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3 col-md-9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    name: \"endereco\",\n    placeholder: \"Endere\\xE7o\",\n    className: \"form-control\",\n    type: \"text\",\n    onChange: handleChange,\n    ref: register({\n      required: {\n        value: \"Required\",\n        message: \"O endereço é obrigatório\"\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-validation-error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 37\n    }\n  }, errors.endereco && errors.endereco.message)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3 col-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    name: \"numero\",\n    placeholder: \"N\\xBA\",\n    className: \"form-control\",\n    type: \"number\",\n    onChange: handleChange,\n    ref: register({\n      required: {\n        value: \"Required\",\n        message: \"O número é obrigatório\"\n      },\n      maxLength: {\n        value: 5,\n        message: \"O número máximo de caracteres é '5'\"\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-validation-error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 37\n    }\n  }, errors.numero && errors.numero.message))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3 col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"CNPJ\",\n    className: \"form-control\",\n    name: \"cnpj\",\n    onChange: handleChange,\n    ref: register({\n      required: {\n        value: \"Required\",\n        message: \"O CNPJ é obrigatório\"\n      },\n      pattern: {\n        value: /^\\d{2}\\.\\d{3}\\.\\d{3}\\/\\d{4}\\-\\d{2}$/,\n        message: \"CNPJ inválido\"\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-validation-error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 37\n    }\n  }, errors.cnpj && errors.cnpj.message))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3 col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"form-control\",\n    onChange: handleChange,\n    name: \"tipoEstabelecimento\",\n    ref: register({\n      required: {\n        value: \"Required\",\n        message: \"O tipo de estabelecimento é obrigatório\"\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 41\n    }\n  }, \"Tipo de estabelecimento\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 41\n    }\n  }, \"Bar\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 41\n    }\n  }, \"Restaurante\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 41\n    }\n  }, \"Lanchonete\")), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-validation-error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 37\n    }\n  }, errors.tipoEstabelecimento && errors.tipoEstabelecimento.message))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3 col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    placeholder: \"Latitude\",\n    name: \"latitude\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3 col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    placeholder: \"Longitude\",\n    name: \"longitude\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3 col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    className: \"form-control\",\n    placeholder: \"Senha\",\n    name: \"senha\",\n    onChange: handleChange,\n    ref: register({\n      required: {\n        value: \"Required\",\n        message: \"A senha é obrigatória\"\n      },\n      pattern: {\n        value: /(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}$/,\n        // Mínimo de oito caracteres, pelo menos uma letra e um número\n        message: \"Mínimo de oito caracteres, com pelo menos uma letra e um número\"\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-validation-error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 37\n    }\n  }, errors.senha && errors.senha.message))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3 col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    className: \"form-control\",\n    placeholder: \"Redigite a senha\",\n    name: \"repeticaoSenha\",\n    onChange: handleChange,\n    ref: register({\n      required: {\n        value: \"Required\",\n        message: \"A repetição de senha é obrigatória\"\n      },\n      validate: {\n        senhasIguais: validarSenhas,\n        message: \"As senhas não são iguais\"\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-validation-error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 37\n    }\n  }, errors.repeticaoSenha && errors.repeticaoSenha.message))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2 col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"icheck-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    id: \"agreeTerms\",\n    name: \"terms\",\n    defaultValue: \"agree\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"agreeTerms\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 41\n    }\n  }, \"\\xA0\\xA0Eu aceito todos os \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 76\n    }\n  }, \"termos de uso\")), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-validation-error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 41\n    }\n  }, errors.aceitaTermos && errors.aceitaTermos.message)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2 col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary btn-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 37\n    }\n  }, \"Cadastrar\")))), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"login.html\",\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 25\n    }\n  }, \"J\\xE1 tenho uma conta de acesso\")))));\n}","map":{"version":3,"sources":["/home/roberto/Área de Trabalho/tingle-bar/src/pages/CadastroEstabelecimento/index.jsx"],"names":["React","useState","useEffect","useForm","api","valoresIniciais","nome","cnpj","endereco","numero","latitude","longitude","tipoEstabelecimento","senha","repeticaoSenha","CadastroEstabelecimento","valores","setValores","tiposEstabelecimento","setTiposEstabelecimento","register","handleSubmit","errors","onSubmit","data","console","log","validarSenhas","handleChange","event","name","value","target","handleCadastrar","payload","resposta","post","err","required","message","maxLength","pattern","validate","senhasIguais","aceitaTermos"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useForm } from \"react-hook-form\";\n\nimport './styles.css';\n\nimport api from '../../services/api';\n\nfunction valoresIniciais() {\n    return {\n        nome: '',\n        cnpj: '',\n        endereco: '',\n        numero: '',\n        latitude: '',\n        longitude: '',\n        tipoEstabelecimento: '',\n        senha: '',\n        repeticaoSenha: '',\n    };\n}\n\nexport default function CadastroEstabelecimento() {\n    const [valores, setValores] = useState(valoresIniciais);\n    const [tiposEstabelecimento, setTiposEstabelecimento] = useState([]);\n\n    const { register, handleSubmit, errors } = useForm();\n\n    const onSubmit = data => {\n        console.log(data);\n    };\n\n    function validarSenhas() {\n        if (valores.senha === valores.repeticaoSenha)\n            return true;\n\n        return false\n    }\n\n    function handleChange(event) {\n        const { name, value } = event.target;\n        setValores({ ...valores, [name]: value });\n    }\n\n    async function handleCadastrar() {\n        const payload = {\n            \"Nome\": valores.nome,\n            \"Cnpj\": valores.cnpj,\n            \"Endereco\": valores.endereco,\n            \"Numero\": valores.numero,\n            \"Latitude\": valores.latitude,\n            \"Longitude\": valores.longitude,\n            \"IdTipoEstabelecimento\": valores.tipoEstabelecimento,\n            \"Imagem\": \"/uploads/default.png\",\n            \"Distancia_km\": \"0\",\n            \"Senha\": valores.senha\n        }\n\n        try {\n            const resposta = await api.post('/estabelecimento', payload);\n            console.log({ resposta });\n        } catch (err) {\n            console.log({ err });\n        }\n    }\n\n    return (\n        <div className=\"hold-transition register-page\">\n            <div className=\"register-box\">\n                <div className=\"register-logo\">\n                    <a href=\"../../index2.html\"><b>Tingle</b>Bar</a>\n                </div>\n\n                <div className=\"card\">\n                    <div className=\"card-body register-card-body\">\n                        <p className=\"login-box-msg\">Cadastrar novo estabelecimento</p>\n\n                        <form autoComplete=\"off\" onSubmit={handleSubmit(onSubmit)}>\n\n                            <div className=\"row\">\n                                <div className=\"mb-3 col-md-12\">\n                                    <input\n                                        name=\"nome\"\n                                        placeholder=\"Nome do estabelecimento\"\n                                        className=\"form-control\"\n                                        type=\"text\"\n                                        onChange={handleChange}\n                                        ref={register({\n                                            required: {\n                                                value: \"Required\",\n                                                message: \"O nome do estabelecimento é obrigatório\"\n                                            }\n                                        })}\n                                    />\n                                    <p className=\"text-validation-error\">{errors.nome && errors.nome.message}</p>\n                                </div>\n                            </div>\n\n                            <div className=\"row\">\n                                <div className=\"mb-3 col-md-9\">\n                                    <input\n                                        name=\"endereco\"\n                                        placeholder=\"Endereço\"\n                                        className=\"form-control\"\n                                        type=\"text\"\n                                        onChange={handleChange}\n                                        ref={register({\n                                            required: {\n                                                value: \"Required\",\n                                                message: \"O endereço é obrigatório\"\n                                            }\n                                        })}\n                                    />\n                                    <p className=\"text-validation-error\">{errors.endereco && errors.endereco.message}</p>\n                                </div>\n                                <div className=\"mb-3 col-md-3\">\n                                    <input\n                                        name=\"numero\"\n                                        placeholder=\"Nº\"\n                                        className=\"form-control\"\n                                        type=\"number\"\n                                        onChange={handleChange}\n                                        ref={register({\n                                            required: {\n                                                value: \"Required\",\n                                                message: \"O número é obrigatório\"\n                                            },\n                                            maxLength: {\n                                                value: 5,\n                                                message: \"O número máximo de caracteres é '5'\"\n                                            }\n                                        })}\n                                    />\n                                    <p className=\"text-validation-error\">{errors.numero && errors.numero.message}</p>\n                                </div>\n                            </div>\n\n                            <div className=\"row\">\n                                <div className=\"mb-3 col-md-12\">\n                                    <input\n                                        type=\"text\"\n                                        placeholder=\"CNPJ\"\n                                        className=\"form-control\"\n                                        name=\"cnpj\"\n                                        onChange={handleChange}\n                                        ref={register({\n                                            required: {\n                                                value: \"Required\",\n                                                message: \"O CNPJ é obrigatório\"\n                                            },\n                                            pattern: {\n                                                value: /^\\d{2}\\.\\d{3}\\.\\d{3}\\/\\d{4}\\-\\d{2}$/,\n                                                message: \"CNPJ inválido\"\n                                            }\n                                        })}\n                                    />\n                                    <p className=\"text-validation-error\">{errors.cnpj && errors.cnpj.message}</p>\n                                </div>\n                            </div>\n\n                            <div className=\"row\">\n                                <div className=\"mb-3 col-md-12\">\n                                    <select\n                                        className=\"form-control\"\n                                        onChange={handleChange}\n                                        name=\"tipoEstabelecimento\"\n                                        ref={register({\n                                            required: {\n                                                value: \"Required\",\n                                                message: \"O tipo de estabelecimento é obrigatório\"\n                                            },\n                                        })}\n                                    >\n                                        <option value=\"\">Tipo de estabelecimento</option>\n                                        <option value={1}>Bar</option>\n                                        <option value={2}>Restaurante</option>\n                                        <option value={3}>Lanchonete</option>\n                                    </select>\n                                    <p className=\"text-validation-error\">{errors.tipoEstabelecimento && errors.tipoEstabelecimento.message}</p>\n                                </div>\n                            </div>\n\n                            <div className=\"row\">\n                                <div className=\"mb-3 col-md-6\">\n                                    <input\n                                        type=\"text\"\n                                        className=\"form-control\"\n                                        placeholder=\"Latitude\"\n                                        name=\"latitude\"\n                                        onChange={handleChange}\n                                    />\n                                </div>\n                                <div className=\"mb-3 col-md-6\">\n                                    <input\n                                        type=\"text\"\n                                        className=\"form-control\"\n                                        placeholder=\"Longitude\"\n                                        name=\"longitude\"\n                                        onChange={handleChange}\n                                    />\n                                </div>\n                            </div>\n\n                            <div className=\"row\">\n                                <div className=\"mb-3 col-md-12\">\n                                    <input\n                                        type=\"password\"\n                                        className=\"form-control\"\n                                        placeholder=\"Senha\"\n                                        name=\"senha\"\n                                        onChange={handleChange}\n                                        ref={register({\n                                            required: {\n                                                value: \"Required\",\n                                                message: \"A senha é obrigatória\"\n                                            },\n                                            pattern: {\n                                                value: /(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}$/, // Mínimo de oito caracteres, pelo menos uma letra e um número\n                                                message: \"Mínimo de oito caracteres, com pelo menos uma letra e um número\"\n                                            }\n                                        })}\n                                    />\n                                    <p className=\"text-validation-error\">{errors.senha && errors.senha.message}</p>\n                                </div>\n                            </div>\n\n                            <div className=\"row\">\n                                <div className=\"mb-3 col-md-12\">\n                                    <input\n                                        type=\"password\"\n                                        className=\"form-control\"\n                                        placeholder=\"Redigite a senha\"\n                                        name=\"repeticaoSenha\"\n                                        onChange={handleChange}\n                                        ref={register({\n                                            required: {\n                                                value: \"Required\",\n                                                message: \"A repetição de senha é obrigatória\"\n                                            },\n                                            validate: {\n                                                senhasIguais: validarSenhas,\n                                                    message: \"As senhas não são iguais\"\n                                            }\n                                        })}\n                                    />\n                                    <p className=\"text-validation-error\">{errors.repeticaoSenha && errors.repeticaoSenha.message}</p>\n                                </div>\n                            </div>\n\n\n\n                            <div className=\"row\">\n                                <div className=\"mb-2 col-12\">\n                                    <div className=\"icheck-primary\">\n                                        <input type=\"checkbox\" id=\"agreeTerms\" name=\"terms\" defaultValue=\"agree\" />\n                                        <label htmlFor=\"agreeTerms\">\n                                            &nbsp;&nbsp;Eu aceito todos os <a href=\"#\">termos de uso</a>\n                                        </label>\n                                        <p className=\"text-validation-error\">{errors.aceitaTermos && errors.aceitaTermos.message}</p>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div className=\"row\">\n                                <div className=\"mb-2 col-12\">\n                                    <button type=\"submit\" className=\"btn btn-primary btn-block\">Cadastrar</button>\n                                </div>\n                            </div>\n\n                        </form>\n\n                        <a href=\"login.html\" className=\"text-center\">Já tenho uma conta de acesso</a>\n                    </div>\n                    {/* /.form-box */}\n                </div>{/* /.card */}\n            </div>\n            {/* /.register-box */}\n        </div>\n\n    );\n}"]},"metadata":{},"sourceType":"module"}