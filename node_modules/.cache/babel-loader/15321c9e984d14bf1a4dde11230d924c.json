{"ast":null,"code":"var _jsxFileName = \"/home/roberto/\\xC1rea de Trabalho/tingle-bar/src/pages/PainelEstabelecimento/pages/GerenciarFuncionarios/ListaFuncionarios.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport Swal from 'sweetalert2';\nimport api from '../../../../services/api';\nexport default function ListaFuncionarios() {\n  const [funcionarios, setFuncionarios] = useState([]);\n  const [tiposFuncionario, setTiposFuncionario] = useState([]);\n  const [usuario, setUsuario] = useState(null);\n  useEffect(() => {\n    getFuncionarios();\n  }, []);\n\n  async function getFuncionarios() {\n    try {\n      const response = await api.get('/Funcionario?idEstabelecimento=13');\n      setFuncionarios(response.data);\n      return response.data;\n    } catch (err) {\n      return err.response;\n    }\n  }\n\n  async function getTiposFuncionario() {\n    try {\n      const response = await api.get('/tipofuncionario');\n      setTiposFuncionario(response.data);\n      return response.data;\n    } catch (err) {\n      return err.response;\n    }\n  }\n\n  async function getUsaurio(cpf) {\n    try {\n      const {\n        data\n      } = await api.get('/api/usuario/GetByCpf?Cpf=' + cpf);\n      setPesquisausuario(data);\n      getTipoFuncionario();\n    } catch (err) {\n      console.log({\n        err\n      });\n    }\n  }\n\n  async function handleCadastrar() {\n    Swal.mixin({\n      input: 'text',\n      confirmButtonText: 'Pesquisar',\n      showCancelButton: true,\n      progressSteps: ['1']\n    }).queue([{\n      title: 'Pesquisar Usuario',\n      text: 'Digite o cpf'\n    }]).then(result => {\n      if (result.value) {\n        try {\n          const cpf = result.value[0];\n          let respostausuario = null;\n          getUsaurio(cpf);\n\n          if (pesquisausuario.cpf) {\n            console.log(listatiposfuncionario);\n            const {\n              value\n            } = Swal.fire({\n              title: 'Cadastrar Funcionário',\n              html: `\n                       Nome:${pesquisausuario.nome}\n                       <pre> cpf: ${pesquisausuario.cpf}</pre>\n                     `,\n              input: 'select',\n              inputOptions: listatiposfuncionario.map(lista => lista.descricao),\n              inputPlaceholder: 'Selecione a Função',\n              confirmButtonText: 'Cadastrar!',\n              showCancelButton: true,\n              inputValidator: value => {\n                return new Promise(resolve => {\n                  if (value) {\n                    resolve();\n                  } else {\n                    resolve('Você precisa selecionar uma função');\n                  }\n                });\n              }\n            }).then(result => {\n              if (result.value) {\n                Swal.fire('ok!', 'Your file has been deleted.', 'success');\n              }\n            });\n          } else {\n            Swal.fire('Cpf não localizado', 'Tente novamente', 'error');\n          }\n        } catch (err) {\n          Swal.fire('Cpf não localizado', 'Tente novamente', 'error');\n        }\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"content-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 29\n    }\n  }, \"Tela principal\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"ol\", {\n    className: \"breadcrumb float-sm-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"breadcrumb-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 65\n    }\n  }, \"Home\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"breadcrumb-item active\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 33\n    }\n  }, \"Principal\")))))), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"card-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 29\n    }\n  }, \"Lista de funcion\\xE1rios\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-tools\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-tool\",\n    \"data-card-widget\": \"collapse\",\n    \"data-toggle\": \"tooltip\",\n    title: \"Collapse\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-minus\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-tool\",\n    \"data-card-widget\": \"remove\",\n    \"data-toggle\": \"tooltip\",\n    title: \"Remove\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-times\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 37\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body p-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table table-striped projects\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      width: '10%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 41\n    }\n  }, \"ID\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      width: '40%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 41\n    }\n  }, \"Nome\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      width: '20%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 41\n    }\n  }, \"Tipo\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      width: '30%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 41\n    }\n  }))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 33\n    }\n  }, funcionarios.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: item.id_funcionario,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 48\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 45\n      }\n    }, item.id_funcionario), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 49\n      }\n    }, item.nome), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 49\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 49\n      }\n    }, item.descricao)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"project-actions text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-success btn-sm\",\n      onClick: handleCadastrar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-user-plus mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 53\n      }\n    }), \"Novo\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary btn-sm ml-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-eye mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 53\n      }\n    }), \"Visualizar\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-info btn-sm ml-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-pencil-alt mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 53\n      }\n    }), \"Editar\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-danger btn-sm ml-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-trash mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 53\n      }\n    }), \"Deletar\")));\n  }))))))));\n}","map":{"version":3,"sources":["/home/roberto/Área de Trabalho/tingle-bar/src/pages/PainelEstabelecimento/pages/GerenciarFuncionarios/ListaFuncionarios.jsx"],"names":["React","useState","useEffect","Swal","api","ListaFuncionarios","funcionarios","setFuncionarios","tiposFuncionario","setTiposFuncionario","usuario","setUsuario","getFuncionarios","response","get","data","err","getTiposFuncionario","getUsaurio","cpf","setPesquisausuario","getTipoFuncionario","console","log","handleCadastrar","mixin","input","confirmButtonText","showCancelButton","progressSteps","queue","title","text","then","result","value","respostausuario","pesquisausuario","listatiposfuncionario","fire","html","nome","inputOptions","map","lista","descricao","inputPlaceholder","inputValidator","Promise","resolve","width","item","index","id_funcionario"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,IAAP,MAAiB,aAAjB;AAEA,OAAOC,GAAP,MAAgB,0BAAhB;AAEA,eAAe,SAASC,iBAAT,GAA6B;AACxC,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCN,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAACO,gBAAD,EAAmBC,mBAAnB,IAA0CR,QAAQ,CAAC,EAAD,CAAxD;AACA,QAAM,CAACS,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC,IAAD,CAAtC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZU,IAAAA,eAAe;AAClB,GAFQ,EAEN,EAFM,CAAT;;AAIA,iBAAeA,eAAf,GAAiC;AAC7B,QAAI;AACA,YAAMC,QAAQ,GAAG,MAAMT,GAAG,CAACU,GAAJ,CAAQ,mCAAR,CAAvB;AACAP,MAAAA,eAAe,CAACM,QAAQ,CAACE,IAAV,CAAf;AACA,aAAOF,QAAQ,CAACE,IAAhB;AACH,KAJD,CAIE,OAAOC,GAAP,EAAY;AACV,aAAOA,GAAG,CAACH,QAAX;AACH;AACJ;;AAED,iBAAeI,mBAAf,GAAqC;AACjC,QAAI;AACA,YAAMJ,QAAQ,GAAG,MAAMT,GAAG,CAACU,GAAJ,CAAQ,kBAAR,CAAvB;AACAL,MAAAA,mBAAmB,CAACI,QAAQ,CAACE,IAAV,CAAnB;AACA,aAAOF,QAAQ,CAACE,IAAhB;AACH,KAJD,CAIE,OAAOC,GAAP,EAAY;AACV,aAAOA,GAAG,CAACH,QAAX;AACH;AACJ;;AAED,iBAAeK,UAAf,CAA0BC,GAA1B,EAA+B;AAC3B,QAAI;AACD,YAAM;AAAEJ,QAAAA;AAAF,UAAW,MAAMX,GAAG,CAACU,GAAJ,CAAQ,+BAA+BK,GAAvC,CAAvB;AACAC,MAAAA,kBAAkB,CAACL,IAAD,CAAlB;AACAM,MAAAA,kBAAkB;AAEpB,KALD,CAKE,OAAOL,GAAP,EAAY;AACXM,MAAAA,OAAO,CAACC,GAAR,CAAY;AAAEP,QAAAA;AAAF,OAAZ;AACF;AACH;;AAIF,iBAAeQ,eAAf,GAAiC;AAC7BrB,IAAAA,IAAI,CAACsB,KAAL,CAAW;AACPC,MAAAA,KAAK,EAAE,MADA;AAEPC,MAAAA,iBAAiB,EAAE,WAFZ;AAGPC,MAAAA,gBAAgB,EAAE,IAHX;AAIPC,MAAAA,aAAa,EAAE,CAAC,GAAD;AAJR,KAAX,EAKIC,KALJ,CAKU,CACN;AACGC,MAAAA,KAAK,EAAE,mBADV;AAEGC,MAAAA,IAAI,EAAE;AAFT,KADM,CALV,EAUIC,IAVJ,CAUUC,MAAD,IAAY;AACjB,UAAIA,MAAM,CAACC,KAAX,EAAkB;AAEf,YAAI;AACD,gBAAMhB,GAAG,GAAIe,MAAM,CAACC,KAAP,CAAa,CAAb,CAAb;AAGA,cAAIC,eAAe,GAAG,IAAtB;AAEAlB,UAAAA,UAAU,CAACC,GAAD,CAAV;;AAIA,cAAIkB,eAAe,CAAClB,GAApB,EAAyB;AAItBG,YAAAA,OAAO,CAACC,GAAR,CAAYe,qBAAZ;AAEA,kBAAM;AAAEH,cAAAA;AAAF,gBAAYhC,IAAI,CAACoC,IAAL,CAAU;AACzBR,cAAAA,KAAK,EAAE,uBADkB;AAEzBS,cAAAA,IAAI,EAAG;8BACDH,eAAe,CAACI,IAAK;oCACfJ,eAAe,CAAClB,GAAI;sBAJP;AAMzBO,cAAAA,KAAK,EAAE,QANkB;AAOzBgB,cAAAA,YAAY,EAAEJ,qBAAqB,CAACK,GAAtB,CAA0BC,KAAK,IAAIA,KAAK,CAACC,SAAzC,CAPW;AAQzBC,cAAAA,gBAAgB,EAAE,oBARO;AASzBnB,cAAAA,iBAAiB,EAAE,YATM;AAUzBC,cAAAA,gBAAgB,EAAE,IAVO;AAWzBmB,cAAAA,cAAc,EAAGZ,KAAD,IAAW;AACxB,uBAAO,IAAIa,OAAJ,CAAaC,OAAD,IAAa;AAC7B,sBAAId,KAAJ,EAAW;AACRc,oBAAAA,OAAO;AACT,mBAFD,MAEO;AACJA,oBAAAA,OAAO,CAAC,oCAAD,CAAP;AACF;AACH,iBANM,CAAP;AAOF;AAnBwB,aAAV,EAoBfhB,IApBe,CAoBTC,MAAD,IAAY;AACjB,kBAAIA,MAAM,CAACC,KAAX,EAAkB;AACfhC,gBAAAA,IAAI,CAACoC,IAAL,CACG,KADH,EAEG,6BAFH,EAGG,SAHH;AAKF;AACH,aA5BiB,CAAlB;AA+BF,WArCD,MAqCO;AAEJpC,YAAAA,IAAI,CAACoC,IAAL,CACG,oBADH,EAEG,iBAFH,EAGG,OAHH;AAOF;AAEH,SA1DD,CA0DE,OAAOvB,GAAP,EAAY;AAEXb,UAAAA,IAAI,CAACoC,IAAL,CACG,oBADH,EAEG,iBAFH,EAGG,OAHH;AAMF;AACH;AACH,KAjFF;AAkFH;;AAED,sBACI;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGI;AAAS,IAAA,SAAS,EAAC,gBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,CADJ,eAII;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,2BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAgC;AAAG,IAAA,IAAI,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAhC,CADJ,eAEI;AAAI,IAAA,SAAS,EAAC,wBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFJ,CADJ,CAJJ,CADJ,CADJ,CAHJ,eAoBI;AAAS,IAAA,SAAS,EAAC,SAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADJ,eAEI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,SAAS,EAAC,cAAhC;AAA+C,wBAAiB,UAAhE;AAA2E,mBAAY,SAAvF;AAAiG,IAAA,KAAK,EAAC,UAAvG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAG,IAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,eAGI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,SAAS,EAAC,cAAhC;AAA+C,wBAAiB,QAAhE;AAAyE,mBAAY,SAArF;AAA+F,IAAA,KAAK,EAAC,QAArG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAG,IAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAHJ,CAFJ,CADJ,eAUI;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,SAAS,EAAC,8BAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,KAAK,EAAE;AAAEW,MAAAA,KAAK,EAAE;AAAT,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,eAII;AAAI,IAAA,KAAK,EAAE;AAAEA,MAAAA,KAAK,EAAE;AAAT,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJJ,eAOI;AAAI,IAAA,KAAK,EAAE;AAAEA,MAAAA,KAAK,EAAE;AAAT,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAPJ,eAUI;AAAI,IAAA,KAAK,EAAE;AAAEA,MAAAA,KAAK,EAAE;AAAT,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVJ,CADJ,CADJ,eAiBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEK5C,YAAY,CAACqC,GAAb,CAAiB,CAACQ,IAAD,EAAOC,KAAP,KAAiB;AAC/B,wBAAO;AAAI,MAAA,GAAG,EAAED,IAAI,CAACE,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKF,IAAI,CAACE,cAAV,CADG,eAEH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIF,IAAI,CAACV,IAAT,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CAFG,eAOH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIU,IAAI,CAACN,SAAT,CADJ,CAPG,eAWH;AAAI,MAAA,SAAS,EAAC,4BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,SAAS,EAAC,wBAAlB;AAA2C,MAAA,OAAO,EAAErB,eAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAG,MAAA,SAAS,EAAC,uBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,SADJ,eAKI;AAAQ,MAAA,SAAS,EAAC,6BAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAG,MAAA,SAAS,EAAC,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eALJ,eASI;AAAQ,MAAA,SAAS,EAAC,0BAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAG,MAAA,SAAS,EAAC,wBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,WATJ,eAaI;AAAQ,MAAA,SAAS,EAAC,4BAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAG,MAAA,SAAS,EAAC,mBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,YAbJ,CAXG,CAAP;AA8BH,GA/BA,CAFL,CAjBJ,CADJ,CAVJ,CAFJ,CADJ,CApBJ,CADJ;AAwGH","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Swal from 'sweetalert2';\n\nimport api from '../../../../services/api';\n\nexport default function ListaFuncionarios() {\n    const [funcionarios, setFuncionarios] = useState([]);\n    const [tiposFuncionario, setTiposFuncionario] = useState([]);\n    const [usuario, setUsuario] = useState(null);\n\n    useEffect(() => {\n        getFuncionarios();\n    }, []);\n\n    async function getFuncionarios() {\n        try {\n            const response = await api.get('/Funcionario?idEstabelecimento=13');\n            setFuncionarios(response.data);\n            return response.data;\n        } catch (err) {\n            return err.response;\n        }\n    }\n\n    async function getTiposFuncionario() {\n        try {\n            const response = await api.get('/tipofuncionario');\n            setTiposFuncionario(response.data);\n            return response.data;\n        } catch (err) {\n            return err.response;\n        }\n    }\n\n    async function getUsaurio(cpf) {\n        try {\n           const { data } = await api.get('/api/usuario/GetByCpf?Cpf=' + cpf);\n           setPesquisausuario(data);\n           getTipoFuncionario();\n\n        } catch (err) {\n           console.log({ err });\n        }\n     }\n\n    \n\n    async function handleCadastrar() {\n        Swal.mixin({\n            input: 'text',\n            confirmButtonText: 'Pesquisar',\n            showCancelButton: true,\n            progressSteps: ['1']\n         }).queue([\n            {\n               title: 'Pesquisar Usuario',\n               text: 'Digite o cpf'\n            }\n         ]).then((result) => {\n            if (result.value) {\n   \n               try {\n                  const cpf = (result.value[0])\n   \n   \n                  let respostausuario = null;\n   \n                  getUsaurio(cpf);\n   \n   \n   \n                  if (pesquisausuario.cpf) {\n   \n   \n   \n                     console.log(listatiposfuncionario)\n   \n                     const { value } = Swal.fire({\n                        title: 'Cadastrar Funcionário',\n                        html: `\n                       Nome:${pesquisausuario.nome}\n                       <pre> cpf: ${pesquisausuario.cpf}</pre>\n                     `,\n                        input: 'select',\n                        inputOptions: listatiposfuncionario.map(lista => lista.descricao),\n                        inputPlaceholder: 'Selecione a Função',\n                        confirmButtonText: 'Cadastrar!',\n                        showCancelButton: true,\n                        inputValidator: (value) => {\n                           return new Promise((resolve) => {\n                              if (value) {\n                                 resolve()\n                              } else {\n                                 resolve('Você precisa selecionar uma função')\n                              }\n                           })\n                        }\n                     }).then((result) => {\n                        if (result.value) {\n                           Swal.fire(\n                              'ok!',\n                              'Your file has been deleted.',\n                              'success'\n                           )\n                        }\n                     })\n   \n   \n                  } else {\n   \n                     Swal.fire(\n                        'Cpf não localizado',\n                        'Tente novamente',\n                        'error'\n                     )\n   \n   \n                  }\n   \n               } catch (err) {\n   \n                  Swal.fire(\n                     'Cpf não localizado',\n                     'Tente novamente',\n                     'error'\n                  )\n   \n               }\n            }\n         })\n    }\n\n    return (\n        <div className=\"content-wrapper\">\n\n            {/* Content Header (Page header) */}\n            <section className=\"content-header\">\n                <div className=\"container-fluid\">\n                    <div className=\"row mb-2\">\n                        <div className=\"col-sm-6\">\n                            <h1>Tela principal</h1>\n                        </div>\n                        <div className=\"col-sm-6\">\n                            <ol className=\"breadcrumb float-sm-right\">\n                                <li className=\"breadcrumb-item\"><a href=\"#\">Home</a></li>\n                                <li className=\"breadcrumb-item active\">Principal</li>\n                            </ol>\n                        </div>\n                    </div>\n                </div>{/* /.container-fluid */}\n            </section>\n\n            {/* Main content */}\n            <section className=\"content\">\n                <div className=\"container-fluid\">\n\n                    <div className=\"card\">\n                        <div className=\"card-header\">\n                            <h3 className=\"card-title\">Lista de funcionários</h3>\n                            <div className=\"card-tools\">\n                                <button type=\"button\" className=\"btn btn-tool\" data-card-widget=\"collapse\" data-toggle=\"tooltip\" title=\"Collapse\">\n                                    <i className=\"fas fa-minus\" /></button>\n                                <button type=\"button\" className=\"btn btn-tool\" data-card-widget=\"remove\" data-toggle=\"tooltip\" title=\"Remove\">\n                                    <i className=\"fas fa-times\" /></button>\n                            </div>\n                        </div>\n                        <div className=\"card-body p-0\">\n                            <table className=\"table table-striped projects\">\n                                <thead>\n                                    <tr>\n                                        <th style={{ width: '10%' }}>\n                                            ID\n                                        </th>\n                                        <th style={{ width: '40%' }}>\n                                            Nome\n                                        </th>\n                                        <th style={{ width: '20%' }}>\n                                            Tipo\n                                        </th>\n                                        <th style={{ width: '30%' }}>\n                                        </th>\n                                    </tr>\n                                </thead>\n\n                                <tbody>\n\n                                    {funcionarios.map((item, index) => {\n                                        return <tr key={item.id_funcionario}>\n                                            <td>{item.id_funcionario}</td>\n                                            <td>\n                                                <a>{item.nome}</a>\n                                                <br />\n                                                {/* <small>Created 01.01.2019</small> */}\n                                            </td>\n                                            <td>\n                                                <a>{item.descricao}</a>\n                                            </td>\n\n                                            <td className=\"project-actions text-right\">\n                                                <button className=\"btn btn-success btn-sm\" onClick={handleCadastrar}>\n                                                    <i className=\"fas fa-user-plus mr-2\"></i>\n                                                    Novo\n                                                </button>\n                                                <button className=\"btn btn-primary btn-sm ml-3\">\n                                                    <i className=\"fas fa-eye mr-2\"></i>\n                                                    Visualizar\n                                                </button>\n                                                <button className=\"btn btn-info btn-sm ml-3\">\n                                                    <i className=\"fas fa-pencil-alt mr-2\"></i>\n                                                    Editar\n                                                </button>\n                                                <button className=\"btn btn-danger btn-sm ml-3\">\n                                                    <i className=\"fas fa-trash mr-2\"></i>\n                                                    Deletar\n                                                </button>\n                                            </td>\n                                        </tr>\n                                    })}\n\n\n\n                                </tbody>\n                            </table>\n                        </div>\n                        {/* /.card-body */}\n\n                    </div>\n\n\n\n                </div>\n            </section>\n            {/* /.content */}\n\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}