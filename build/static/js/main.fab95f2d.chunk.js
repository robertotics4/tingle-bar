(this.webpackJsonptinglebar=this.webpackJsonptinglebar||[]).push([[0],{104:function(e,a,t){},108:function(e,a,t){},113:function(e,a,t){},114:function(e,a,t){},115:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(14),s=t.n(c),l=t(3),o=Object(n.createContext)(),i=function(e){var a=e.children,t=Object(n.useState)(null),c=Object(l.a)(t,2),s=c[0],i=c[1],m=Object(n.useState)(!1),u=Object(l.a)(m,2),d=u[0],p=u[1];return Object(n.useEffect)((function(){!function(){var e=localStorage.getItem("@TBAuth:tipoUsuario");e&&i(e)}()}),[]),r.a.createElement(o.Provider,{value:{tipoUsuario:s,setTipoUsuario:i,isLoadingVisible:d,setLoadingVisible:p}},a)},m=o,u=t(1),d=t.n(u),p=t(2),f=t(50),E=t.n(f).a.create({baseURL:"http://52.45.128.89/api",timeout:7e3}),b=Object(n.createContext)(),v=function(e){var a=e.children,t=Object(n.useState)(null),c=Object(l.a)(t,2),s=c[0],o=c[1],i=Object(n.useContext)(m).setTipoUsuario;function u(){return(u=Object(p.a)(d.a.mark((function e(a){var t,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={Cnpj:a.cnpj,Senha:a.senha},e.next=4,E.post("/loginestabelecimento",t);case 4:return n=e.sent,r=n.data.accessToken,delete n.data.accessToken,o(n.data),localStorage.setItem("@TBAuth:estabelecimento",JSON.stringify(n.data)),localStorage.setItem("@TBAuth:token",r),localStorage.setItem("@TBAuth:tipoUsuario","estabelecimento"),e.abrupt("return",n);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){var e=localStorage.getItem("@TBAuth:estabelecimento"),a=localStorage.getItem("@TBAuth:token");e&&a&&o(JSON.parse(e))}()}),[]),r.a.createElement(b.Provider,{value:{signedEstabelecimento:!!s,estabelecimento:s,signIn:function(e){return u.apply(this,arguments)},signOut:function(){localStorage.clear(),i(null),o(null)}}},a)},h=b,g=Object(n.createContext)(),N=function(e){var a=e.children,t=Object(n.useState)(null),c=Object(l.a)(t,2),s=c[0],o=c[1],i=Object(n.useState)(null),u=Object(l.a)(i,2),f=u[0],b=u[1],v=Object(n.useContext)(m).setTipoUsuario;function h(){return(h=Object(p.a)(d.a.mark((function e(a){var t,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={Telefone:a.telefone,Senha:a.senha},e.next=4,E.post("/loginfuncionario",t);case 4:return n=e.sent,r=n.data.accessToken,delete n.data.accessToken,o(n.data),localStorage.setItem("@TBAuth:funcionario",JSON.stringify(n.data)),localStorage.setItem("@TBAuth:token",r),localStorage.setItem("@TBAuth:tipoUsuario","funcionario"),e.abrupt("return",n);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){var e=localStorage.getItem("@TBAuth:funcionario"),a=localStorage.getItem("@TBAuth:token"),t=localStorage.getItem("@TBAuth:estabelecimento");e&&a&&t&&o(JSON.parse(e))}()}),[]),r.a.createElement(g.Provider,{value:{signedFuncionario:!!s,funcionario:s,signIn:function(e){return h.apply(this,arguments)},signOut:function(){localStorage.clear(),v(null),o(null)},estabelecimento:f,setEstabelecimentoFuncionario:function(e){b(e),localStorage.setItem("@TBAuth:estabelecimento",JSON.stringify(e))}}},a)},x=t(51),y=t(7),k=t(11),j=t(8),w=t(20),O=t(22),C=t(5),S=t.n(C),q=t(25),T=t.n(q),B=t(52),F=t.n(B);t(104);function I(){return r.a.createElement("div",{className:"loading-modal"},r.a.createElement(F.a,{name:"pacman",fadeIn:"none",color:"white"}))}function P(){var e=Object(n.useState)({}),a=Object(l.a)(e,2),t=a[0],c=a[1],s=Object(n.useState)(!1),o=Object(l.a)(s,2),i=o[0],m=o[1],u=Object(n.useContext)(h).signIn,f=Object(y.g)(),E=Object(O.a)(),b=E.register,v=E.handleSubmit,g=E.errors;Object(n.useEffect)((function(){}),[i]);function N(e){var a=e.target,n=a.name,r=a.value;c(Object(w.a)({},t,Object(j.a)({},n,r)))}function x(){return(x=Object(p.a)(d.a.mark((function e(a){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,u(a);case 3:200===(t=e.sent).status||201===t.status?f.push("/painelEstabelecimento"):401===t.status?S.a.fire({title:"Erro!",text:"Usu\xe1rio ou senha inv\xe1lidos",icon:"error",confirmButtonText:"Voltar"}):S.a.fire({title:"Erro!",text:"Falha ao efetuar login.",icon:"error",confirmButtonText:"Voltar"}),m(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{className:"hold-transition login-page"},r.a.createElement("div",{className:"login-box"},r.a.createElement("div",{className:"login-logo"},r.a.createElement("a",{href:"../../index2.html"},r.a.createElement("b",null,"Tingle"),"Bar")),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body login-card-body"},r.a.createElement("p",{className:"login-box-msg"},"Login de Estabelecimento"),r.a.createElement("form",{autoComplete:"off",onSubmit:v((function(e){c(e),function(e){x.apply(this,arguments)}(e)}))},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement(T.a,{type:"text",className:g.cnpj?"form-control is-invalid":"form-control",placeholder:"CNPJ",name:"cnpj",onChange:N,mask:"99.999.999/9999-99",ref:b({required:{value:"Required",message:"O CNPJ \xe9 obrigat\xf3rio"},pattern:{value:/^\d{2}\.\d{3}\.\d{3}\/\d{4}-\d{2}$/,message:"CNPJ inv\xe1lido"}})}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("div",{className:"input-group-text"},r.a.createElement("span",{className:"fas fa-user"}))),r.a.createElement("span",{className:"error invalid-feedback"},g.cnpj&&g.cnpj.message)),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("input",{type:"password",className:g.senha?"form-control is-invalid":"form-control",placeholder:"Senha",name:"senha",onChange:N,ref:b({required:{value:"Required",message:"A senha \xe9 obrigat\xf3ria"},pattern:{value:/(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,message:"M\xednimo de oito caracteres, com pelo menos uma letra e um n\xfamero"}})}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("div",{className:"input-group-text"},r.a.createElement("span",{className:"fas fa-lock"}))),r.a.createElement("span",{className:"error invalid-feedback"},g.senha&&g.senha.message)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-group mb-3 col-md-12"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Acessar")))),r.a.createElement("p",{className:"mb-1"},r.a.createElement("a",{href:"forgot-password.html"},"Esqueci minha senha")),r.a.createElement("p",{className:"mb-0"},r.a.createElement("a",{href:"/cadastroEstabelecimento",className:"text-center"},"Cadastrar um novo estabelecimento"))))),i?r.a.createElement(I,null):null)}t(108);function M(){var e=Object(n.useState)({}),a=Object(l.a)(e,2),t=a[0],c=a[1],s=Object(n.useState)([]),o=Object(l.a)(s,2),i=o[0],m=o[1],u=Object(n.useState)(!1),f=Object(l.a)(u,2),b=f[0],v=f[1],h=Object(O.a)(),g=h.register,N=h.handleSubmit,x=h.errors,y=h.watch;function k(e){var a=e.target,n=a.name,r=a.value;c(Object(w.a)({},t,Object(j.a)({},n,r)))}function C(){return(C=Object(p.a)(d.a.mark((function e(){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),a=null,n={Nome:t.nome,Cnpj:t.cnpj,Endereco:t.endereco,Numero:t.numero,Latitude:t.latitude,Longitude:t.longitude,IdTipoEstabelecimento:t.tipoEstabelecimento,Imagem:"/uploads/default.png",Distancia_km:"0",Senha:t.senha},e.prev=3,e.next=6,E.post("/estabelecimento",n);case 6:200!==(a=e.sent).status&&201!==a.status||(S.a.fire({title:"Sucesso!",text:"Cadastro efetuado com sucesso!",icon:"success",confirmButtonText:"OK"}),c({})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),S.a.fire({title:"Erro!",text:"Falha ao efetuar cadastro.",icon:"error",confirmButtonText:"Voltar"});case 13:return e.prev=13,v(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){}),[b]),Object(n.useEffect)((function(){function e(){return(e=Object(p.a)(d.a.mark((function e(){var a,t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.get("/tipoestabelecimento");case 3:a=e.sent,t=a.data,m(t.tipoestabelecimento),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log({err:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement("div",{className:"hold-transition register-page"},r.a.createElement("div",{className:"register-box"},r.a.createElement("div",{className:"register-logo"},r.a.createElement("a",{href:"../../index2.html"},r.a.createElement("b",null,"Tingle"),"Bar")),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body register-card-body"},r.a.createElement("p",{className:"login-box-msg"},"Cadastrar novo estabelecimento"),r.a.createElement("form",{autoComplete:"off",onSubmit:N((function(e){c(e),console.log(t),function(){C.apply(this,arguments)}()}))},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"mb-3 col-md-12"},r.a.createElement("input",{name:"nome",placeholder:"Nome do estabelecimento",className:x.nome?"form-control is-invalid":"form-control",type:"text",onChange:k,ref:g({required:{value:"Required",message:"O nome do estabelecimento \xe9 obrigat\xf3rio"}})}),r.a.createElement("span",{className:"error invalid-feedback"},x.nome&&x.nome.message))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"mb-3 col-md-10"},r.a.createElement("input",{name:"endereco",placeholder:"Endere\xe7o",className:x.endereco?"form-control is-invalid":"form-control",type:"text",onChange:k,ref:g({required:{value:"Required",message:"O endere\xe7o \xe9 obrigat\xf3rio"}})}),r.a.createElement("span",{className:"error invalid-feedback"},x.endereco&&x.endereco.message)),r.a.createElement("div",{className:"mb-3 col-md-2"},r.a.createElement("input",{name:"numero",placeholder:"N\xba",className:x.numero?"form-control is-invalid":"form-control",type:"text",onChange:k,ref:g({required:{value:"Required",message:"O n\xfamero \xe9 obrigat\xf3rio"},maxLength:{value:5,message:"Limite de 5 caracteres"}})}),r.a.createElement("span",{className:"error invalid-feedback"},x.numero&&x.numero.message))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"mb-3 col-md-12"},r.a.createElement(T.a,{type:"text",placeholder:"CNPJ",className:x.cnpj?"form-control is-invalid":"form-control",name:"cnpj",onChange:k,mask:"99.999.999/9999-99",ref:g({required:{value:"Required",message:"O CNPJ \xe9 obrigat\xf3rio"},pattern:{value:/^\d{2}\.\d{3}\.\d{3}\/\d{4}-\d{2}$/,message:"CNPJ inv\xe1lido"}})}),r.a.createElement("span",{className:"error invalid-feedback"},x.cnpj&&x.cnpj.message))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"mb-3 col-md-12"},r.a.createElement("select",{className:x.tipoEstabelecimento?"form-control is-invalid":"form-control",onChange:k,name:"tipoEstabelecimento",ref:g({required:{value:"Required",message:"O tipo de estabelecimento \xe9 obrigat\xf3rio"}})},r.a.createElement("option",{key:0,value:""},"Tipo de estabelecimento"),i.map((function(e,a){return r.a.createElement("option",{key:e.id,value:e.id},e.descricao)}))),r.a.createElement("span",{className:"error invalid-feedback"},x.tipoEstabelecimento&&x.tipoEstabelecimento.message))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"mb-3 col-md-6"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Latitude",name:"latitude",onChange:k})),r.a.createElement("div",{className:"mb-3 col-md-6"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Longitude",name:"longitude",onChange:k}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"mb-3 col-md-12"},r.a.createElement("input",{type:"password",className:x.senha?"form-control is-invalid":"form-control",placeholder:"Senha",name:"senha",onChange:k,ref:g({required:{value:"Required",message:"A senha \xe9 obrigat\xf3ria"},pattern:{value:/(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,message:"M\xednimo de oito caracteres, com pelo menos uma letra e um n\xfamero"}})}),r.a.createElement("span",{className:"error invalid-feedback"},x.senha&&x.senha.message))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"mb-3 col-md-12"},r.a.createElement("input",{type:"password",className:x.repeticaoSenha?"form-control is-invalid":"form-control",placeholder:"Redigite a senha",name:"repeticaoSenha",onChange:k,ref:g({required:{value:"Required",message:"A repeti\xe7\xe3o de senha \xe9 obrigat\xf3ria"},validate:function(e){return e===y("senha")||"As senhas n\xe3o coincidem"}})}),r.a.createElement("span",{className:"error invalid-feedback"},x.repeticaoSenha&&x.repeticaoSenha.message))),r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"icheck-primary"},r.a.createElement("input",{className:(x.aceitaTermos,""),type:"checkbox",defaultChecked:!1,name:"aceitaTermos",defaultValue:!0,ref:g({required:{value:"Required",message:"Aceite os termos para continuar"}})}),r.a.createElement("label",{htmlFor:"agreeTerms"},"\xa0\xa0Eu aceito todos os ",r.a.createElement("a",{"data-toggle":"modal","data-target":"#modaltermo",href:"#"},"termos de uso")),r.a.createElement("span",{className:"error invalid-feedback",style:{display:"inline"}},r.a.createElement("br",null),x.aceitaTermos&&x.aceitaTermos.message)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"mb-2 col-12"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Cadastrar")))),r.a.createElement("a",{href:"/",className:"text-center"},"J\xe1 tenho uma conta de acesso")))),r.a.createElement("div",{className:"modal fade",id:"modaltermo",tabIndex:-1,role:"dialog","aria-labelledby":"exampleModalLongTitle","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLongTitle"},"Termo de Uso"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},"A pol\xedtica de privacidade \xe9 o documento por meio do qual a pessoa f\xedsica ou jur\xeddica que mant\xe9m um site ou aplicativo exp\xf5e e explica a todos os interessados a forma como os dados pessoais dos usu\xe1rios da plataforma ser\xe3o tratados. A prote\xe7\xe3o de dados pessoais ganhou especial relev\xe2ncia ap\xf3s a entrada em vigor do Regulamento Geral de Prote\xe7\xe3o de Dados da Uni\xe3o Europeia (RGPD), tamb\xe9m conhecido como General Data Protection Regulation (GDPR), que \xe9 o regulamento adotado pelos pa\xedses da Uni\xe3o Europeia sobre o assunto. Esta norma estabeleceu uma s\xe9rie de exig\xeancias e de puni\xe7\xf5es \xe0queles que realizam o tratamento de dados pessoais de usu\xe1rios da internet. A ado\xe7\xe3o do RGPD pela Uni\xe3o Europeia levou o Brasil a adotar uma legisla\xe7\xe3o muito semelhante, que tamb\xe9m trata do assunto: a Lei Federal n. 13.709 (Lei de Prote\xe7\xe3o de Dados Pessoais). Vale ressaltar, neste ponto, que, ainda que a pessoa f\xedsica ou jur\xeddica respons\xe1vel pelo site ou aplicativo seja brasileira, \xe9 poss\xedvel que se lhe apliquem ambas as normas, a depender do caso. As duas normas estabelecem regras que devem ser seguidas pelos sites ou aplicativos que fazem a coleta e o tratamento de dados pessoais de seus usu\xe1rios. Al\xe9m disso, os usu\xe1rios dever\xe3o ter seus direitos respeitados, como os de acesso, limita\xe7\xe3o, elimina\xe7\xe3o, retifica\xe7\xe3o e portabilidade de seus dados pessoais. O site ou aplicativo dever\xe1 informar os motivos pelos quais os dados pessoais de seus usu\xe1rios s\xe3o coletados, a pessoa respons\xe1vel pelo tratamento destes dados e o prazo pelo qual s\xe3o armazenados. Caber\xe1 ao site ou aplicativo, ainda, informar aos usu\xe1rios os seus direitos, sendo que todas estas informa\xe7\xf5es estar\xe3o previstas na pol\xedtica de privacidade. No documento, ser\xe1 necess\xe1rio, ainda, designar um profissional especializado em privacidade para verificar se o site ou aplicativo est\xe1 cumprindo as normas do regulamento, o chamado Encarregado de Prote\xe7\xe3o de Dados (Data Protection Officer)."),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Fechar"),r.a.createElement("button",{type:"button",className:"btn btn-primary"},"Aceito"))))),b?r.a.createElement(I,null):null)}function A(){return r.a.createElement("nav",{className:"main-header navbar navbar-expand navbar-white navbar-light"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link","data-widget":"pushmenu",href:"#",role:"button"},r.a.createElement("i",{className:"fas fa-bars"})))))}t(49);var R=t(30),D=t.n(R);function _(){var e=Object(n.useContext)(h).signOut,a=Object(y.g)();return r.a.createElement("aside",{className:"menu-content main-sidebar sidebar-dark-primary elevation-4"},r.a.createElement("a",{href:"#",className:"brand-link logo"},r.a.createElement("img",{src:D.a,alt:"Equatorial Logo",className:"img-logo",style:{opacity:".8"}})),r.a.createElement("div",{className:"sidebar"},r.a.createElement("div",{className:"user-panel mt-3 pb-3 mb-3 d-flex"},r.a.createElement("div",{className:"info"},r.a.createElement("a",{href:"#",className:"d-block"},r.a.createElement("strong",null)),r.a.createElement("a",{href:"#",className:"d-block"},"CNPJ: ",r.a.createElement("strong",null)))),r.a.createElement("nav",{className:"mt-2"},r.a.createElement("ul",{className:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{href:"/gerenciarFuncionarios",className:"nav-link"},r.a.createElement("i",{className:"fas fa-users nav-icon"}),r.a.createElement("p",null,"Funcion\xe1rios"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{href:"/gerenciarMesas",className:"nav-link"},r.a.createElement("i",{className:"fas fa-table nav-icon"}),r.a.createElement("p",null,"Mesas"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{href:"/gerenciarCardapio",className:"nav-link"},r.a.createElement("i",{className:"fas fa-bars nav-icon"}),r.a.createElement("p",null,"Card\xe1pio"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{href:"/gerenciarPromocoes",className:"nav-link"},r.a.createElement("i",{className:"fas fa-percentage nav-icon"}),r.a.createElement("p",null,"Promo\xe7\xf5es"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{href:"/gerenciarCozinha",className:"nav-link"},r.a.createElement("i",{className:"fas fa-hamburger nav-icon"}),r.a.createElement("p",null,"Cozinha"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{onClick:function(){e(),a.push("/")},className:"nav-link"},r.a.createElement("i",{className:"fas fa-sign-out-alt nav-icon"}),r.a.createElement("p",{className:"text",color:"red"},"Sair")))))))}function z(){return r.a.createElement("footer",{className:"main-footer"},r.a.createElement("strong",null,"Copyright \xa9 2020",r.a.createElement("a",{href:"https://www.equatorialenergia.com.br/",target:"_blank"}," TingleERP"),".")," Todos os direitos reservados.",r.a.createElement("div",{className:"float-right d-none d-sm-inline-block"},r.a.createElement("b",null,"Vers\xe3o")," 0.0.1"))}function L(){return r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("section",{className:"content-header"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("h1",null,"Tela principal")),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("ol",{className:"breadcrumb float-sm-right"},r.a.createElement("li",{className:"breadcrumb-item"},r.a.createElement("a",{href:"#"},"Home")),r.a.createElement("li",{className:"breadcrumb-item active"},"Principal")))))),r.a.createElement("section",{className:"content"},r.a.createElement("div",{className:"container-fluid"})))}function V(){return r.a.createElement("div",null,r.a.createElement(A,null),r.a.createElement(_,null),r.a.createElement(L,null),r.a.createElement(z,null))}function J(){var e=Object(n.useState)([]),a=Object(l.a)(e,2),t=a[0],c=a[1],s=Object(n.useState)([]),o=Object(l.a)(s,2),i=o[0],u=o[1],f=Object(n.useState)([]),b=Object(l.a)(f,2),v=b[0],h=b[1],g=Object(n.useContext)(m),N=g.isLoadingVisible;g.setLoadingVisible;function x(){return y.apply(this,arguments)}function y(){return(y=Object(p.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.get("/Funcionario?idEstabelecimento="+i.id_Estabelecimento);case 3:return a=e.sent,c(a.data),e.abrupt("return",a.data);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function k(){return(k=Object(p.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.get("/tipofuncionario");case 3:return a=e.sent,h(a.data),e.abrupt("return",a.data);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function j(e){return w.apply(this,arguments)}function w(){return(w=Object(p.a)(d.a.mark((function e(a){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.get("/usuario/GetByCpf?Cpf="+a);case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function O(e,a){return C.apply(this,arguments)}function C(){return(C=Object(p.a)(d.a.mark((function e(a,t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id_usuario:a,id_estabelecimento:i.id_Estabelecimento,id_tipofuncionario:t},e.prev=1,e.next=4,E.post("/Funcionario",n);case 4:201!==(r=e.sent).status&&200!==r.status||(S.a.fire("Sucesso!","Funcion\xe1rio cadastrado com sucesso!","success"),x()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),401!==e.t0.response.status&&400!==e.t0.response.status||S.a.fire("Erro!","Falha ao cadastrar o funcion\xe1rio","error");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function q(){return(q=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.a.mixin({input:"text",confirmButtonText:"Pesquisar",showCancelButton:!0,progressSteps:["1"],inputValidator:function(e){return new Promise((function(a){e?a():a("CPF inv\xe1lido")}))}}).queue([{title:"Pesquisar Usu\xe1rio",text:"Digite o CPF",input:"text",inputPlaceholder:"000.000.000-00"}]).then(function(){var e=Object(p.a)(d.a.mark((function e(a){var t,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.value){e.next=12;break}return e.prev=1,t=a.value[0],e.next=5,j(t);case 5:(n=e.sent).cpf?(r=S.a.fire({title:"Cadastrar Funcion\xe1rio",html:"Nome: ".concat(n.nome,"\n                                    <pre>cpf: ").concat(n.cpf,"</pre>"),input:"select",inputOptions:v.map((function(e){return e.descricao})),inputPlaceholder:"Selecione a fun\xe7\xe3o",confirmButtonText:"Cadastrar",showCancelButton:!0,inputValidator:function(e){return new Promise((function(a){e?a():a("Voc\xea precisa selecionar uma fun\xe7\xe3o")}))}}).then((function(e){var a=v[e.value].id;O(n.id,a)})),r.value):S.a.fire("CPF n\xe3o localizado","Tente novamente","error"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),S.a.fire("CPF n\xe3o localizado","Tente novamente","error");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(a){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(p.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.a.fire({title:"Deseja deletar o funcion\xe1rio?",text:"Ap\xf3s deletar n\xe3o ser\xe1 possivel recuperar!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Deletar"}).then(function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.value){e.next=11;break}return e.prev=1,e.next=4,E.delete("/Funcionario/"+a.id_funcionario);case 4:201!==(n=e.sent).status&&200!==n.status||(S.a.fire("Sucesso!","Funcion\xe1rio deletado com sucesso!","success"),x()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),401!==e.t0.response.status&&400!==e.t0.response.status||S.a.fire("Erro!","Falha ao deletar o funcion\xe1rio","error");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){function e(){return(e=Object(p.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=localStorage.getItem("@TBAuth:estabelecimento"))&&u(JSON.parse(a));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){k.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){x()}),[i]),r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("section",{className:"content-header"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("h1",null,"Funcion\xe1rios")),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("ol",{className:"breadcrumb float-sm-right"},r.a.createElement("li",{className:"breadcrumb-item"},r.a.createElement("a",{href:"#"},"Home")),r.a.createElement("li",{className:"breadcrumb-item active"},"Funcion\xe1rios")))))),r.a.createElement("section",{className:"content"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",{className:"card-title"},"Lista de funcion\xe1rios"),r.a.createElement("div",{className:"card-tools"},r.a.createElement("button",{className:"btn btn-success btn-sm",onClick:function(){return q.apply(this,arguments)}},r.a.createElement("i",{className:"fas fa-user-plus mr-2"}),"Novo"))),r.a.createElement("div",{className:"card-body p-0"},r.a.createElement("table",{className:"table table-striped projects"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"10%"}},"ID"),r.a.createElement("th",{style:{width:"40%"}},"Nome"),r.a.createElement("th",{style:{width:"20%"}},"Tipo"),r.a.createElement("th",{style:{width:"30%"}}))),r.a.createElement("tbody",null,t.map((function(e,a){return r.a.createElement("tr",{key:e.id_funcionario},r.a.createElement("td",{name:"idFuncionario"},e.id_funcionario),r.a.createElement("td",null,r.a.createElement("a",null,e.nome),r.a.createElement("br",null)),r.a.createElement("td",null,r.a.createElement("a",null,e.descricao)),r.a.createElement("td",{className:"project-actions text-right"},r.a.createElement("button",{disabled:!0,className:"btn btn-primary btn-sm ml-3"},r.a.createElement("i",{className:"fas fa-eye mr-2"}),"Visualizar"),r.a.createElement("button",{className:"btn btn-danger btn-sm ml-3",onClick:function(){return function(e){return T.apply(this,arguments)}(e)}},r.a.createElement("i",{className:"fas fa-trash mr-2"}),"Deletar")))})))))))),N?r.a.createElement(I,null):null)}function U(){return r.a.createElement("div",{className:"hold-transition sidebar-mini"},r.a.createElement("div",{className:"wrapper"},r.a.createElement(A,null),r.a.createElement(_,null),r.a.createElement(J,null),r.a.createElement(z,null)))}function H(){var e=Object(n.useState)(null),a=Object(l.a)(e,2),t=a[0],c=a[1],s=Object(n.useState)([]),o=Object(l.a)(s,2),i=o[0],m=o[1];function u(){return f.apply(this,arguments)}function f(){return(f=Object(p.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.get("/Mesa?idEstabelecimento="+t.id_Estabelecimento);case 3:a=e.sent,m(a.data),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function b(){return(b=Object(p.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.a.fire({html:"<h3>Deseja excluir a mesa <strong>".concat(a.descricao,"</strong>?</h3>"),text:"Ap\xf3s deletar n\xe3o ser\xe1 possivel recuperar!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Deletar"}).then(function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.value){e.next=11;break}return e.prev=1,e.next=4,E.delete("/mesa/"+a.id);case 4:201!==(n=e.sent).status&&200!==n.status||(S.a.fire("Sucesso!","Mesa deletada com sucesso!","success"),u()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),401!==e.t0.response.status&&400!==e.t0.response.status||S.a.fire("Erro!","Falha ao deletar a mesa","error");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=Object(p.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=S.a.fire({title:"Digite a descri\xe7\xe3o da mesa",input:"text",inputPlaceholder:"Descri\xe7\xe3o da mesa",inputValidator:function(e){if(!e)return"Favor digitar a Descri\xe7\xe3o da mesa!"},showCancelButton:!0}).then(function(){var e=Object(p.a)(d.a.mark((function e(n){var r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.value){e.next=12;break}return r={id:a.id,Descricao:n.value,fk_id_estabelecimento:t.id_Estabelecimento},e.prev=2,e.next=5,E.put("/Mesa",r);case 5:201!==(c=e.sent).status&&200!==c.status||(S.a.fire("Sucesso!","Mesa alterada com sucesso!","success"),u()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),401!==e.t0.response.status&&400!==e.t0.response.status||S.a.fire("Erro!","Falha ao alterar mesa","error");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(a){return e.apply(this,arguments)}}()),n.value;case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(p.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=S.a.fire({title:"Digite a descri\xe7\xe3o da mesa",input:"text",inputPlaceholder:"Descri\xe7\xe3o da mesa",inputValidator:function(e){if(!e)return"Favor digitar a Descri\xe7\xe3o da mesa!"},showCancelButton:!0}).then(function(){var e=Object(p.a)(d.a.mark((function e(a){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.value){e.next=12;break}return n={Descricao:a.value,fk_id_estabelecimento:t.id_Estabelecimento},e.prev=2,e.next=5,E.post("/Mesa",n);case 5:201!==(r=e.sent).status&&200!==r.status||(S.a.fire("Sucesso!","Mesa cadastrada com sucesso!","success"),u()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),401!==e.t0.response.status&&400!==e.t0.response.status||S.a.fire("Erro!","Falha ao cadastrar mesa","error");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(a){return e.apply(this,arguments)}}()),a.value;case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){function e(){return(e=Object(p.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=localStorage.getItem("@TBAuth:estabelecimento"))&&c(JSON.parse(a));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),u()}),[]),Object(n.useEffect)((function(){u()}),[t]),r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("section",{className:"content-header"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("h1",null,"Mesas")),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("ol",{className:"breadcrumb float-sm-right"},r.a.createElement("li",{className:"breadcrumb-item"},r.a.createElement("a",{href:"#"},"Home")),r.a.createElement("li",{className:"breadcrumb-item active"},"Mesas")))))),r.a.createElement("section",{className:"content"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",{className:"card-title"},"Lista de Mesas"),r.a.createElement("div",{className:"card-tools"},r.a.createElement("button",{className:"btn btn-success btn-sm",onClick:function(){return h.apply(this,arguments)}},r.a.createElement("i",{className:"fas fa-user-plus mr-2"}),"Novo"))),r.a.createElement("div",{className:"card-body p-0"},r.a.createElement("table",{className:"table table-striped projects"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"10%"}},"ID"),r.a.createElement("th",{style:{width:"40%"}},"Nome"))),r.a.createElement("tbody",null,i.map((function(e,a){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.descricao),r.a.createElement("td",{className:"project-actions text-right"},r.a.createElement("button",{className:"btn btn-info btn-sm ml-3",onClick:function(){return function(e){return v.apply(this,arguments)}(e)}},r.a.createElement("i",{className:"fas fa-pencil-alt mr-2"}),"Editar"),r.a.createElement("button",{className:"btn btn-danger btn-sm ml-3",onClick:function(){return function(e){return b.apply(this,arguments)}(e)}},r.a.createElement("i",{className:"fas fa-trash mr-2"}),"Deletar")))})))))))))}function G(){return r.a.createElement("div",null,r.a.createElement(A,null),r.a.createElement(_,null),r.a.createElement(H,null),r.a.createElement(z,null))}var $=t(54),Z=t(118);function K(){return{titulo:"",descricao:"",valor:"",categoria:"",tempoEstimadoMin:0,tempoEstimadoMax:0,imagem:null,isCozinha:!1,isCardapio:!0}}function Q(e){var a=Object(n.useState)([]),t=Object(l.a)(a,2),c=t[0],s=t[1],o=Object(n.useState)(K),i=Object(l.a)(o,2),m=i[0],u=i[1],f=Object(n.useState)(!1),b=Object(l.a)(f,2),v=b[0],h=b[1],g=Object(O.a)(),N=g.register,x=g.handleSubmit,y=g.errors;Object(n.useEffect)((function(){!function(){C.apply(this,arguments)}()}),[]);var k=function(){return e.setShowModal(!1)};function C(){return(C=Object(p.a)(d.a.mark((function a(){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,E.get("/categoria?idEstabelecimento="+e.idEstabelecimento);case 3:return t=a.sent,s(t.data),a.abrupt("return",t.data);case 8:return a.prev=8,a.t0=a.catch(0),a.abrupt("return",a.t0.response);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))).apply(this,arguments)}function q(){return(q=Object(p.a)(d.a.mark((function a(t){var n,r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return h(!0),(n=new FormData).append("titulo",t.titulo),n.append("descricao",t.descricao),n.append("valor",m.valor),n.append("tempo_estimado_min",t.tempoEstimadoMin),n.append("tempo_estimado_max",t.tempoEstimadoMax),n.append("categoria",t.categoria),n.append("estabelecimento",e.idEstabelecimento),n.append("iscozinha",m.isCozinha?1:0),n.append("iscardapio",m.isCardapio?1:0),n.append("files",m.imagem),a.prev=12,a.next=15,E.post("/Cardapio",n,{headers:{"Content-Type":"multipart/form-data"}});case 15:201!==(r=a.sent).status&&200!==r.status||S.a.fire("Sucesso!","Item cadastrado com sucesso!","success"),a.next=22;break;case 19:a.prev=19,a.t0=a.catch(12),401!==a.t0.response.status&&400!==a.t0.response.status||S.a.fire("Erro!","Falha ao cadastrar item","error");case 22:return a.prev=22,h(!1),e.atualizarItens(),k(),a.finish(22);case 27:case"end":return a.stop()}}),a,null,[[12,19,22,27]])})))).apply(this,arguments)}function T(e){var a=e.target,t=a.name,n=a.value;u(Object(w.a)({},m,Object(j.a)({},t,n)))}return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,{show:e.showModal,onHide:k,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(Z.a.Header,{closeButton:!0},r.a.createElement(Z.a.Title,null,"Cadastro de item no Card\xe1pio")),r.a.createElement("form",{autoComplete:"off",onSubmit:x((function(e){!function(e){q.apply(this,arguments)}(e)}))},r.a.createElement(Z.a.Body,null,r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"tituloItemCardapio"},"T\xedtulo"),r.a.createElement("input",{name:"titulo",type:"text",className:y.titulo?"form-control is-invalid":"form-control",id:"tituloItemCardapio",placeholder:"T\xedtulo do item",onChange:T,ref:N({required:{value:"Required",message:"O t\xedtulo \xe9 obrigat\xf3rio"}})}),r.a.createElement("span",{className:"error invalid-feedback"},y.titulo&&y.titulo.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"descricaoItemCardapio"},"Descri\xe7\xe3o"),r.a.createElement("input",{name:"descricao",type:"text",className:y.descricao?"form-control is-invalid":"form-control",id:"descricaoItemCardapio",placeholder:"Descri\xe7\xe3o do item",onChange:T,ref:N({required:{value:"Required",message:"A descri\xe7\xe3o \xe9 obrigat\xf3ria"}})}),r.a.createElement("span",{className:"error invalid-feedback"},y.descricao&&y.descricao.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"valorItemCardapio"},"Valor"),r.a.createElement($.a,{name:"valor",type:"text",prefix:"R$",decimalSeparator:",",thousandSeparator:".",value:m.valor,className:y.valor?"form-control is-invalid":"form-control",id:"valorItemCardapio",onChangeEvent:function(e,a,t){u(Object(w.a)({},m,{valor:t}))}}),r.a.createElement("span",{className:"error invalid-feedback"},y.valorItemCardapio&&y.valorItemCardapio.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"categoriaItemCardapio"},"Categoria"),r.a.createElement("select",{name:"categoria",className:y.categoria?"form-control is-invalid":"form-control",id:"categoriaItemCardapio",ref:N({required:{value:"Required",message:"A categoria \xe9 obrigat\xf3ria"}})},r.a.createElement("option",{value:""},"Selecione"),c.map((function(e,a){return r.a.createElement("option",{key:e.id,value:e.id},e.descricao)}))),r.a.createElement("span",{className:"error invalid-feedback"},y.categoria&&y.categoria.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"tempoEstimadoMin"},"Tempo estimado m\xednimo"),r.a.createElement("input",{name:"tempoEstimadoMin",type:"number",className:y.tempoEstimadoMin?"form-control is-invalid":"form-control",id:"tempoEstimadoMin",placeholder:"Tempo m\xednimo estimado",onChange:T,ref:N({required:{value:"Required",message:"O tempo estimado min \xe9 obrigat\xf3rio"}})}),r.a.createElement("span",{className:"error invalid-feedback"},y.tempoEstimadoMin&&y.tempoEstimadoMin.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"tempoEstimadoMax"},"Tempo estimado m\xe1ximo"),r.a.createElement("input",{name:"tempoEstimadoMax",type:"number",className:y.tempoEstimadoMax?"form-control is-invalid":"form-control",id:"tempoEstimadoMax",placeholder:"Tempo m\xednimo m\xe1ximo",onChange:T,ref:N({required:{value:"Required",message:"O tempo estimado max \xe9 obrigat\xf3rio"}})}),r.a.createElement("span",{className:"error invalid-feedback"},y.tempoEstimadoMax&&y.tempoEstimadoMax.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"imagemItemCardapio"},"Imagem do item"),r.a.createElement("input",{name:"imagem",type:"file",accept:"image/png, image/jpeg",className:y.imagem?"form-control-file is-invalid":"form-control-file",id:"imagemItemCardapio",onChange:function(e){u(Object(w.a)({},m,{imagem:e.target.files[0]}))},ref:N({required:{value:"Required",message:"A imagem \xe9 obrigat\xf3ria"}})}),r.a.createElement("span",{className:"error invalid-feedback"},y.imagem&&y.imagem.message)),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{name:"isCozinha",type:"checkbox",className:"form-check-input",id:"itemCozinhaCardapio",onChange:T}),r.a.createElement("label",{className:"form-check-label",htmlFor:"exampleCheck1"},"Item de cozinha ?")),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{name:"isCardapio",type:"checkbox",className:"form-check-input",id:"isCardapio",onChange:T,defaultChecked:!0}),r.a.createElement("label",{className:"form-check-label",htmlFor:"exampleCheck1"},"Incluir no card\xe1pio ?")))),r.a.createElement(Z.a.Footer,null,r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Cadastrar"),r.a.createElement("button",{type:"button",className:"btn btn-secondary ml-3",onClick:k},"Cancelar")))),v?r.a.createElement(I,null):null)}var W=t(117);t(113);function X(e){var a=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}),t=function(){return e.setShowModal(!1)};return console.log(e.item),r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,{show:e.showModal,onHide:t,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(Z.a.Body,null,r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"content-item"},r.a.createElement(W.a,{className:"img-item",src:"http://52.45.128.89"+e.item.imagem,fluid:!0}),r.a.createElement("h4",{className:"mt-3"},r.a.createElement("strong",null,e.item.titulo)),r.a.createElement("p",{className:"texto-item"},e.item.item),r.a.createElement("p",{className:"texto-item"},"Preparo: ",e.item.tempo_estimado_min,e.item.tempo_estimado_max?" a ".concat(e.item.tempo_estimado_max):""," minutos"),r.a.createElement("p",{className:"valor-item"},a.format(e.item.valor))))),r.a.createElement(Z.a.Footer,null,r.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:t},"Fechar"))))}function Y(){var e=Object(n.useState)(!1),a=Object(l.a)(e,2),t=a[0],c=a[1],s=Object(n.useState)(!1),o=Object(l.a)(s,2),i=o[0],m=o[1],u=Object(n.useState)(null),f=Object(l.a)(u,2),b=f[0],v=f[1],h=Object(n.useState)(null),g=Object(l.a)(h,2),N=g[0],x=g[1],y=Object(n.useState)([]),k=Object(l.a)(y,2),j=k[0],w=k[1],O=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"});function C(){return q.apply(this,arguments)}function q(){return(q=Object(p.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.get("/Cardapio/"+N.id_Estabelecimento);case 3:return a=e.sent,w(a.data),e.abrupt("return",a.data);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function T(){return(T=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(!0);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(p.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(a),m(!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(p.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.a.fire({title:"Deseja deletar o item?",text:"Ap\xf3s deletar n\xe3o ser\xe1 possivel recuperar!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Deletar"}).then(function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.value){e.next=11;break}return e.prev=1,e.next=4,E.delete("/cardapio/"+a.codigo_item);case 4:201!==(n=e.sent).status&&200!==n.status||(S.a.fire("Sucesso!","Item deletado com sucesso!","success"),C()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),401!==e.t0.response.status&&400!==e.t0.response.status||S.a.fire("Erro!","Falha ao deletar o item","error");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){function e(){return(e=Object(p.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=localStorage.getItem("@TBAuth:estabelecimento"))&&x(JSON.parse(a));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),C()}),[]),Object(n.useEffect)((function(){C()}),[N]),r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("section",{className:"content-header"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("h1",null,"Card\xe1pio")),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("ol",{className:"breadcrumb float-sm-right"},r.a.createElement("li",{className:"breadcrumb-item"},r.a.createElement("a",{href:"#"},"Home")),r.a.createElement("li",{className:"breadcrumb-item active"},"Card\xe1pio")))))),r.a.createElement("section",{className:"content"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",{className:"card-title"},"Lista de itens do Card\xe1pio"),r.a.createElement("div",{className:"card-tools"},r.a.createElement("button",{className:"btn btn-success btn-sm",onClick:function(){return T.apply(this,arguments)}},r.a.createElement("i",{className:"fas fa-user-plus mr-2"}),"Novo"))),r.a.createElement("div",{className:"card-body p-0"},r.a.createElement("table",{className:"table table-striped projects"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"5%"}},"ID"),r.a.createElement("th",{style:{width:"20%"}},"T\xedtulo"),r.a.createElement("th",{style:{width:"15%"}},"Categoria"),r.a.createElement("th",{style:{width:"30%"}},"Descri\xe7\xe3o"),r.a.createElement("th",{style:{width:"10%"}},"Valor"),r.a.createElement("th",{style:{width:"20%"}}))),r.a.createElement("tbody",null,function(){var e=[];return j?(j.map((function(a,t){e.push(a.itens.map((function(e,t){return r.a.createElement("tr",{key:e.codigo_item},r.a.createElement("td",null,e.codigo_item),r.a.createElement("td",null,r.a.createElement("a",null,e.titulo)),r.a.createElement("td",null,r.a.createElement("a",null,a.categoria)),r.a.createElement("td",null,r.a.createElement("a",null,e.item)),r.a.createElement("td",null,r.a.createElement("a",null,O.format(e.valor))),r.a.createElement("td",{className:"project-actions text-right"},r.a.createElement("button",{className:"btn btn-primary btn-sm ml-3",onClick:function(){return function(e){return B.apply(this,arguments)}(e)}},r.a.createElement("i",{className:"fas fa-eye mr-2"}),"Visualizar"),r.a.createElement("button",{className:"btn btn-danger btn-sm ml-3",onClick:function(){return function(e){return F.apply(this,arguments)}(e)}},r.a.createElement("i",{className:"fas fa-trash mr-2"}),"Deletar")))})))})),e):null}())))))),t?r.a.createElement(Q,{idEstabelecimento:N.id_Estabelecimento,showModal:t,setShowModal:c,atualizarItens:C}):null,i?r.a.createElement(X,{showModal:i,setShowModal:m,item:b}):null)}function ee(){return r.a.createElement("div",{className:"hold-transition sidebar-mini"},r.a.createElement("div",{className:"wrapper"},r.a.createElement(A,null),r.a.createElement(_,null),r.a.createElement(Y,null),r.a.createElement(z,null)))}function ae(){return r.a.createElement("div",null,r.a.createElement(A,null),r.a.createElement(_,null),r.a.createElement(L,null),r.a.createElement(z,null))}function te(e){return r.a.createElement("div",{className:"col-12 col-sm-6 col-md-4 d-flex align-items-stretch"},r.a.createElement("div",{className:"card bg-light col-12"},r.a.createElement("div",{className:"card-header text-muted border-bottom-0"},r.a.createElement("h3",null,"Mesa: ",e.mesa," / Pedido: ",e.numeroPedido)),r.a.createElement("div",{className:"card-body pt-0"},r.a.createElement("div",{className:"col-12"},r.a.createElement("ul",{className:"ml-0 mb-0 fa-ul text-muted list-group list-group-flush"},e.itens.map((function(e,a){var t="".concat(e.produto);return e.quantidade&&(t+="  /  qtd: ".concat(e.quantidade)),e.porcao&&(t+="  /  por\xe7\xe3o: ".concat(e.porcao)),r.a.createElement("li",{style:{fontSize:"16px",backgroundColor:"transparent"},key:a,className:"medium list-group-item"},t)}))),r.a.createElement("div",{className:"mt-4 mb-0"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},"Atendente: ",e.atendente)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},"Tempo de espera: ",e.tempoEspera))))),r.a.createElement("div",{style:{backgroundColor:"transparent"},className:"card-footer mb-2 mt-0"},r.a.createElement("div",{className:"text-center"},r.a.createElement("a",{href:"#",className:"btn btn-lg btn-primary btn-block"},"Pronto"),r.a.createElement("a",{href:"#",className:"btn btn-lg btn-success btn-block"},"Entregue")))))}var ne=[{numeroPedido:1,mesa:1,atendente:"Roberto",itens:[{produto:"Batata frita",quantidade:null,porcao:"grande"},{produto:"Refri",quantidade:1,porcao:"lata"}],tempoEspera:15},{numeroPedido:2,mesa:1,atendente:"Pedro",itens:[{produto:"Batata frita",quantidade:null,porcao:"grande"},{produto:"Refri",quantidade:1,porcao:"lata"}],tempoEspera:15},{numeroPedido:3,mesa:1,atendente:"Roberto",itens:[{produto:"Batata frita",quantidade:null,porcao:"grande"},{produto:"Refri",quantidade:1,porcao:"lata"}],tempoEspera:15},{numeroPedido:4,mesa:1,atendente:"Humberto",itens:[{produto:"Batata frita",quantidade:null,porcao:"grande"},{produto:"Refri",quantidade:1,porcao:"lata"}],tempoEspera:15}];function re(){return r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("section",{className:"content-header"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("h1",null,"Lista de pedidos")),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("ol",{className:"breadcrumb float-sm-right"},r.a.createElement("li",{className:"breadcrumb-item"},r.a.createElement("a",{href:"#"},"Home")),r.a.createElement("li",{className:"breadcrumb-item active"},"Main")))))),r.a.createElement("section",{className:"content"},r.a.createElement("div",{className:"card card-solid"},r.a.createElement("div",{className:"card-body pb-0"},r.a.createElement("div",{className:"row d-flex align-items-stretch"},ne.map((function(e,a){return r.a.createElement(te,{key:e.numeroPedido,mesa:e.mesa,numeroPedido:e.numeroPedido,itens:e.itens,atendente:e.atendente,tempoEspera:e.tempoEspera})})))),r.a.createElement("div",{className:"card-footer"},r.a.createElement("nav",{"aria-label":"Contacts Page Navigation"},r.a.createElement("ul",{className:"pagination justify-content-center m-0"},r.a.createElement("li",{className:"page-item active"},r.a.createElement("a",{className:"page-link",href:"#"},"1")),r.a.createElement("li",{className:"page-item"},r.a.createElement("a",{className:"page-link",href:"#"},"2")),r.a.createElement("li",{className:"page-item"},r.a.createElement("a",{className:"page-link",href:"#"},"3")),r.a.createElement("li",{className:"page-item"},r.a.createElement("a",{className:"page-link",href:"#"},"4")),r.a.createElement("li",{className:"page-item"},r.a.createElement("a",{className:"page-link",href:"#"},"5")),r.a.createElement("li",{className:"page-item"},r.a.createElement("a",{className:"page-link",href:"#"},"6")),r.a.createElement("li",{className:"page-item"},r.a.createElement("a",{className:"page-link",href:"#"},"7")),r.a.createElement("li",{className:"page-item"},r.a.createElement("a",{className:"page-link",href:"#"},"8"))))))))}function ce(){return r.a.createElement("div",null,r.a.createElement(A,null),r.a.createElement(_,null),r.a.createElement(re,null),r.a.createElement(z,null))}var se=function(e){var a=e.component,t=Object(x.a)(e,["component"]),n=localStorage.getItem("@TBAuth:token");return r.a.createElement(y.b,Object.assign({},t,{render:function(){return n?r.a.createElement(a,t):r.a.createElement(y.a,{to:"/"})}}))},le=function(){return r.a.createElement(k.a,null,r.a.createElement(y.d,null,r.a.createElement(y.b,{path:"/",component:P,exact:!0}),r.a.createElement(y.b,{path:"/cadastroEstabelecimento",component:M}),r.a.createElement(se,{path:"/painelEstabelecimento",component:V}),r.a.createElement(se,{path:"/gerenciarFuncionarios",component:U}),r.a.createElement(se,{path:"/gerenciarMesas",component:G}),r.a.createElement(se,{path:"/gerenciarCardapio",component:ee}),r.a.createElement(se,{path:"/gerenciarPromocoes",component:ae}),r.a.createElement(se,{path:"/gerenciarCozinha",component:ce})))};t(114);var oe=function(){return r.a.createElement(le,null)};function ie(){return r.a.createElement(i,null,r.a.createElement(v,null,r.a.createElement(N,null,r.a.createElement(oe,null))))}s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ie,null)),document.getElementById("root"))},30:function(e,a,t){e.exports=t.p+"static/media/logo.eeabcdcb.png"},49:function(e,a,t){},61:function(e,a,t){e.exports=t(115)}},[[61,1,2]]]);
//# sourceMappingURL=main.fab95f2d.chunk.js.map